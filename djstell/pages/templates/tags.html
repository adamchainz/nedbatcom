{% extends "blogbase.html" %}
{% load tags %}

{% block body %}
    {% if entries %}
        <p class='first'>
            {% if tag %}
                These are my blog posts about {{tag.about}}:
            {% else %}
                These are my blog posts with no tags:
            {% endif %}
        </p>

        <div class='category'>
            {% for entry in entries %}
                <p class='date'>{{entry.when|date:"j M Y"}}:</p>

                {% reallyspaceless %}
                <p>
                    <a class='s' href='{{entry.permaurl}}'>{{entry.title}}</a>
                    {% if entry.tags.all.1 %}
                        <span class='also'>{% ch '_ ' %}also:
                            {% for tag_other in entry.tags.all %}
                                {% ifnotequal tag.tag tag_other.tag %}
                                    {% ifnotfirst %}{% ch '_' %}{% endifnotfirst %}
                                    <a href='{{tag_other.permaurl}}'>#{{tag_other.hashtag}}</a>
                                {% endifnotequal %}
                            {% endfor %}
                        </span>
                    {% endif %}
                </p>
                {% endreallyspaceless %}
            {% endfor %}
        </div>
    {% else %}
        <p class='first'>That's funny, I could've sworn I had some entries tagged #{{tag.hashtag}}...</p>
    {% endif %}

    <p>
        {% if tag %}
            Didn't find what you were looking for?
            <a href='/site/search.html'>Search this site</a> with Google.
        {% else %}
            What better way to conquer the chaos of untagged posts than by
            <a href='/site/search.html'>searching this site</a> with Google?
        {% endif %}
    </p>

{% endblock %}
